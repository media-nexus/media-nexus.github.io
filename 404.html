<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>media-nexus.github.io</title>    
  </head>
  <body>    
    <script type="text/javascript">
      /* proof of concept, load by 404 js */
      const url = window.location.href;
      const filename = url.split('/').pop();
      const new_url = new URL(url);     
      
      if(filename.startsWith('@')) {
        const real_filename = filename.replace('@', '');
        const extension = real_filename.split('.').pop().toLowerCase();
        const path = new_url.pathname.replace(filename, real_filename);
        
        document.title = real_filename;
        if(extension==='pdf' && navigator.pdfViewerEnabled)
          window.location.replace(path);
        
        
        
        /* modificari pt path... viewerjs nu e in root... */
        const doc_path = path.replace('/documents','');
        document.body.innerHTML = '<iframe style="position:absolute; top:0; left:0; width:100%; height:100%;" ' + 
                                  'src="/documents/ViewerJS/#..' + doc_path + 
                                  '" allowfullscreen webkitallowfullscreen></iframe>';
      }
      else {
        document.title = 'Error: 404 - page not found';
        document.body.innerHTML = '<p><b>The requested page was not found: </b>' + 
                                    window.location.href + '</p>';
      }
    </script>
    
  </body>
</html>
